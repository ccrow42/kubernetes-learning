
# Fix iSCSI iqn

## Deployments

# Review the yaml file
cat helloworld.yaml

#Deploy the hello world deployment
kubectl -n lesson04-1 apply -f helloworld.yaml

# Connect to the node part and refresh, notice the changing container ID (HINT: you may need to hold down on shift)

# Delete a pod
kubectl get pods -n lesson04-1
kubectl -n lesson04-1 delete pod <podName>
# Notice the pod is recreated. Why is this?

# Scale the deployment
kubectl get deployments -A
kubectl -n lesson04-1 scale deployment helloworld-deployment --replicas=2
kubectl get pods -n lesson04-1

# Talk about minio app

# Intro to the diff command
#Used to look for changes between files
cd ~/kubernetes-learning/lesson-04
lesson-04]$ diff minio-manual/minio-pvc.yaml minio-pvc/minio-pvc.yaml

# Review the yaml files making up this deployment

# deploy storage the good old fashioned way
sudo mkdir /mnt/minio
kubectl create namespace lesson04-2
kubectl -n lesson04-2 apply -f minio-manual/.

# Use what you have learned to check the status of the deployment, pod, pv and pvc

kubectl -n lesson04-2 get svc

# connect to the minio deployment and upload some data

# Check to make sure the data uploaded

# Questions:
# How did it know which PV to use?
# what happens if the node fails?


# Now we will use a CSI driver. First, we need to install helm, think package manager for k8s

# Install helm
curl https://raw.githubusercontent.com/helm/helm/master/scripts/get-helm-3 | bash
# Take a moment to appriciate what the above did
